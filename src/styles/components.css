/* ======================
   BUTTON COMPONENT
   Variant: Default / Default
====================== */

/* Demo layout: align rows */
.button-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-6-rem);
    flex-wrap: wrap;
}

/* ======================
   HEADER COMPONENT
====================== */
.app-header {
    background-color: var(--bg-bg);
    color: var(--fg-text);
}

.header-bar {
    display: grid;
    grid-template-columns: 1fr auto 1fr; /* left | center | right */
    align-items: center;
    gap: var(--spacing-6-rem);
    padding: var(--spacing-3-rem) var(--spacing-6-rem);
    background-color: var(--bg-bg);
}

.brand { display: inline-flex; align-items: center; gap: var(--spacing-2-rem); justify-self: start; }
.brand__logo { height: var(--sizing-6-rem); display: block; }
.brand__logo--symbol { width: var(--sizing-6-rem); }
.brand__logo--full { width: auto; height: var(--sizing-6-rem); }
.brand__name { font-weight: 700; }

.header-actions { display: inline-flex; align-items: center; gap: var(--spacing-3-rem); justify-self: end; }

.icon-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-2-rem); /* 8px all around */
    border-radius: var(--borderradius-rounded-md-rem);
    border: none;
    background: transparent;
    color: var(--fg-text);
    cursor: pointer;
    line-height: 1;
    transition: background-color 0.15s ease, color 0.15s ease, box-shadow 0.15s ease, transform 0.1s ease, border-color 0.15s ease;
}

.icon-button:focus { outline: var(--borderwidth-width-2) solid var(--primary-border); outline-offset: 2px; }
.icon-button i { width: var(--sizing-6-rem); height: var(--sizing-6-rem); display: inline-flex; align-items: center; justify-content: center; }

/* Icon-only button sizes */
.icon-button--sm { width: var(--sizing-6-rem); height: var(--sizing-6-rem); }
.icon-button--lg { width: var(--sizing-10-rem); height: var(--sizing-10-rem); }

/* Icon-only button variants (mirror .btn styles) */
/* Default (Neutral Solid) */
.icon-button--default { background-color: var(--bg-bg-solid); color: var(--fg-text-inverse); }
.icon-button--default:hover,
.icon-button--default.is-hover { background-color: var(--bg-bg-solid-hover); color: var(--fg-text-inverse); }
.icon-button--default:focus,
.icon-button--default.is-focus { background-color: var(--bg-bg-solid-hover); }
.icon-button--default:active,
.icon-button--default.is-active { background-color: var(--bg-bg-solid-active); color: var(--fg-text-inverse); transform: translateY(0.5px); }

/* Color (Primary Solid) */
.icon-button--color { background-color: var(--primary-bg); color: var(--primary-on-primary); }
.icon-button--color:hover,
.icon-button--color.is-hover { background-color: var(--primary-bg-hover); color: var(--primary-on-primary); }
.icon-button--color:focus,
.icon-button--color.is-focus { background-color: var(--primary-bg-hover); color: var(--primary-on-primary); }
.icon-button--color:active,
.icon-button--color.is-active { background-color: var(--primary-bg-active); color: var(--primary-on-primary); transform: translateY(0.5px); }

/* Surface */
.icon-button--surface { background-color: var(--bg-bg); color: var(--fg-text); border: var(--borderwidth-width-1) solid var(--fg-border); }
.icon-button--surface:hover,
.icon-button--surface.is-hover { background-color: var(--bg-bg-hover); }
.icon-button--surface:focus,
.icon-button--surface.is-focus { background-color: var(--bg-bg-hover); border-color: var(--fg-border-hover); }
.icon-button--surface:active,
.icon-button--surface.is-active { background-color: var(--bg-bg-active); border-color: var(--fg-border-strong); transform: translateY(0.5px); }

/* Outline */
.icon-button--outline { background: transparent; color: var(--fg-text); border: var(--borderwidth-width-1) solid var(--fg-border); }
.icon-button--outline:hover,
.icon-button--outline.is-hover { border-color: var(--fg-border-hover); color: var(--primary-bg-active); }
.icon-button--outline:focus,
.icon-button--outline.is-focus { border-color: var(--primary-border); color: var(--primary-border); }
.icon-button--outline:active,
.icon-button--outline.is-active { border-color: var(--primary-text); color: var(--primary-text); transform: translateY(0.5px); }

/* Ghost */
.icon-button--ghost { background: transparent; color: var(--fg-text); }
.icon-button--ghost:hover,
.icon-button--ghost.is-hover { color: var(--primary-bg-active); }
.icon-button--ghost:focus,
.icon-button--ghost.is-focus { color: var(--primary-border); }
.icon-button--ghost:active,
.icon-button--ghost.is-active { color: var(--primary-text); transform: translateY(0.5px); }

.icon-button[disabled] { opacity: 0.6; cursor: not-allowed; box-shadow: none; }

.header-title { text-align: center; justify-self: center; }

/* Header: Connect Bank responsive button */
.btn--sm { padding: var(--spacing-2-rem) var(--spacing-3-rem); font-size: var(--text-sm-medium-size-rem); }
.btn--connect { gap: var(--spacing-2-rem); }
.btn--connect .btn__icon { width: var(--sizing-6-rem); height: var(--sizing-6-rem); display: block; }

@media (max-width: 640px) {
  /* Mobile: brand centered, symbol only */
  .brand__logo--full { display: none; }
}

@media (min-width: 641px) {
  /* Desktop: show full logo, hide symbol */
  .brand__logo--symbol { display: none; }
}

/* Base Button */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-2-rem);
    padding: var(--spacing-3-rem) var(--spacing-6-rem);
    border-radius: var(--borderradius-rounded-md-rem);
    font-family: var(--font-family-base);
    font-size: var(--text-base-medium-size-rem);
    font-weight: var(--text-base-medium-weight);
    line-height: 1.25;
    letter-spacing: 0;
    border: none;
    background-color: transparent;
    color: var(--fg-text);
    box-shadow: var(--drop-shadow-drop-shadow);
    cursor: pointer;
    transition: background-color 0.15s ease, color 0.15s ease, box-shadow 0.15s ease, transform 0.1s ease;
    vertical-align: middle; /* align inline buttons in rows if not using .button-group */
}

/* Focus ring */
.btn:focus,
.btn.is-focus {
    outline: var(--borderwidth-width-2) solid var(--primary-border);
    outline-offset: 2px;
}

/* Disabled */
.btn[disabled],
.btn.is-disabled {
    background-color: var(--disabled-disabled);
    color: var(--disabled-on-disabled);
    box-shadow: none;
    cursor: not-allowed;
}

/* Icon support */
.btn i {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.icon--leading {
    width: var(--sizing-6-rem);  /* 24px */
    height: var(--sizing-6-rem); /* 24px */
    margin-right: var(--spacing-2-rem);
}

.icon--trailing {
    width: var(--sizing-6-rem);  /* 24px */
    height: var(--sizing-6-rem); /* 24px */
    margin-left: var(--spacing-2-rem);
}

/* Remove baseline gap inside icon wrappers */
.btn i svg { display: block; }

/* --------------------------
   Default (Neutral Solid)
-------------------------- */
.btn--default {
    background-color: var(--bg-bg-solid);
    color: var(--fg-text-inverse);
}

.btn--default:hover,
.btn--default.is-hover {
    background-color: var(--bg-bg-solid-hover);
    color: var(--fg-text-inverse);
    box-shadow: var(--drop-shadow-drop-shadow);
}

.btn--default:focus,
.btn--default.is-focus {
    background-color: var(--bg-bg-solid-hover);
    box-shadow: var(--drop-shadow-drop-shadow);
}

.btn--default:active,
.btn--default.is-active {
    background-color: var(--bg-bg-solid-active);
    color: var(--fg-text-inverse);
    box-shadow: var(--drop-shadow-drop-shadow);
    transform: translateY(0.5px);
}

/* --------------------------
   Color (Primary Solid)
-------------------------- */
.btn--color {
    background-color: var(--primary-bg);
    color: var(--primary-on-primary);
}

.btn--color:hover,
.btn--color.is-hover {
    background-color: var(--primary-bg-hover);
    color: var(--primary-on-primary);
    box-shadow: var(--drop-shadow-drop-shadow);
}

.btn--color:focus,
.btn--color.is-focus {
    background-color: var(--primary-bg-hover);
    color: var(--primary-on-primary);
    box-shadow: var(--drop-shadow-drop-shadow);
}

.btn--color:active,
.btn--color.is-active {
    background-color: var(--primary-bg-active);
    color: var(--primary-on-primary);
    box-shadow: var(--drop-shadow-drop-shadow);
    transform: translateY(0.5px);
}

/* --------------------------
   Status: Error / Success / Warning
   Solid background, semantic colors; text uses fg tokens
-------------------------- */
/* Error */
.btn--error { background-color: var(--error-bg); color: var(--fg-text); }
.btn--error:hover,
.btn--error.is-hover { background-color: var(--error-bg-hover); color: var(--fg-text); }
.btn--error:focus,
.btn--error.is-focus { background-color: var(--error-bg-hover); color: var(--fg-text); }
.btn--error:active,
.btn--error.is-active { background-color: var(--error-bg-active); color: var(--fg-text-contrast); transform: translateY(0.5px); }

/* Success */
.btn--success { background-color: var(--success-bg); color: var(--fg-text); }
.btn--success:hover,
.btn--success.is-hover { background-color: var(--success-bg-hover); color: var(--fg-text); }
.btn--success:focus,
.btn--success.is-focus { background-color: var(--success-bg-hover); color: var(--fg-text); }
.btn--success:active,
.btn--success.is-active { background-color: var(--success-bg-active); color: var(--fg-text-contrast); transform: translateY(0.5px); }

/* Warning */
.btn--warning { background-color: var(--warning-bg); color: var(--fg-text); }
.btn--warning:hover,
.btn--warning.is-hover { background-color: var(--warning-bg-hover); color: var(--fg-text); }
.btn--warning:focus,
.btn--warning.is-focus { background-color: var(--warning-bg-hover); color: var(--fg-text); }
.btn--warning:active,
.btn--warning.is-active { background-color: var(--warning-bg-active); color: var(--fg-text-contrast); transform: translateY(0.5px); }

/* --------------------------
   Surface (Subtle background)
-------------------------- */
.btn--surface {
    background-color: var(--bg-bg);
    color: var(--fg-text);
    border: var(--borderwidth-width-1) solid var(--fg-border);
}

.btn--surface:hover,
.btn--surface.is-hover {
    background-color: var(--bg-bg-hover);
    color: var(--fg-text);
}

.btn--surface:focus,
.btn--surface.is-focus {
    background-color: var(--bg-bg-hover);
    color: var(--fg-text);
    border-color: var(--fg-border-hover);
}

.btn--surface:active,
.btn--surface.is-active {
    background-color: var(--bg-bg-active);
    color: var(--fg-text);
    border-color: var(--fg-border-strong);
    transform: translateY(0.5px);
}

/* --------------------------
   Outline
-------------------------- */
.btn--outline {
    background-color: transparent;
    color: var(--fg-text);
    border: var(--borderwidth-width-1) solid var(--fg-border);
}

.btn--outline:hover,
.btn--outline.is-hover {
    border-color: var(--primary-bg-active);
    color: var(--primary-bg-active);
}

.btn--outline:focus,
.btn--outline.is-focus {
    border-color: var(--primary-border);
    background-color: transparent;
    color: var(--primary-border);
}

.btn--outline:active,
.btn--outline.is-active {
    border-color: var(--primary-text);
    background-color: transparent;
    color: var(--primary-text);
}

/* --------------------------
   Ghost
-------------------------- */
.btn--ghost {
    background-color: transparent;
    color: var(--fg-text);
}

.btn--ghost:hover,
.btn--ghost.is-hover {
    background-color: transparent;
    color: var(--primary-bg-active);
}

.btn--ghost:focus,
.btn--ghost.is-focus {
    background-color: transparent;
    color: var(--primary-border);
}

.btn--ghost:active,
.btn--ghost.is-active {
    background-color: transparent;
    color: var(--primary-text);
    transform: translateY(0.5px);
}

/* ======================
   ACCOUNT BALANCE CARD
====================== */

.account-card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 168px; /* min-width 168px from Figma */
    width: 100%; /* fill width */
    background-color: var(--bg-bg-solid);
    border-radius: var(--borderradius-rounded-xl-rem); /* 12px */
    border: var(--borderwidth-width-4) solid var(--primary-bg-active); /* 4px border */
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.1), 0px 1px 1px 0px rgba(0, 0, 0, 0.06);
    cursor: pointer;
    transition: border-color 0.2s ease, background-color 0.2s ease;
}

.account-card__content {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2-rem); /* 8px */
    padding: var(--spacing-6-rem) var(--spacing-3-rem); /* 24px vertical, 12px horizontal */
    flex: 1;
}

.account-card__name {
    display: flex;
    gap: var(--spacing-1-rem); /* 4px */
}

.account-card__owner {
    font-family: var(--font-family-base);
    font-size: var(--text-xl-semi-bold-size-rem); /* text-xl from Figma */
    font-weight: var(--text-xl-semi-bold-weight); /* semi-bold */
    line-height: 1;
    margin: 0;
}

.account-card__balance {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2-rem); /* 8px */
}

.account-card__type {
    font-family: var(--font-family-base);
    font-size: var(--text-base-medium-size-rem); /* 16px */
    font-weight: var(--text-base-medium-weight); /* medium */
    line-height: 1;
    color: var(--white); /* #fcfcfc */
    margin: 0;
}

.account-card__amount {
    font-family: var(--font-family-base);
    font-size: var(--text-3xl-bold-size-rem); /* text-3xl from Figma */
    font-weight: var(--text-3xl-bold-weight); /* bold */
    line-height: 1;
    color: var(--success-bg-active);
    margin: 0;
}

/* Bryan variant - blue theme */
.account-card--bryan {
    border-color: var(--primary-bg-active);
}

.account-card--bryan .account-card__owner {
    color: var(--primary-bg-active);
}

/* Beth variant - fuchsia theme */
.account-card--beth {
    border-color: var(--secondary-bg-active);
}

.account-card--beth .account-card__owner {
    color: var(--secondary-bg-active);
}

/* Hover states */
.account-card--bryan:hover,
.account-card--bryan.is-hover {
    border-color: var(--primary-border-strong);
    background-color: var(--primary-solid);
}

.account-card--bryan:hover .account-card__owner,
.account-card--bryan.is-hover .account-card__owner,
.account-card--bryan:hover .account-card__type,
.account-card--bryan.is-hover .account-card__type {
    color: var(--fg-text-inverse-hover);
}

.account-card--bryan:hover .account-card__amount,
.account-card--bryan.is-hover .account-card__amount {
    color: var(--fg-text-inverse);
}

.account-card--beth:hover,
.account-card--beth.is-hover {
    border-color: var(--secondary-border-hover);
    background-color: var(--secondary-solid);
}

.account-card--beth:hover .account-card__owner,
.account-card--beth.is-hover .account-card__owner,
.account-card--beth:hover .account-card__type,
.account-card--beth.is-hover .account-card__type {
    color: var(--fg-text-inverse-hover);
}

.account-card--beth:hover .account-card__amount,
.account-card--beth.is-hover .account-card__amount {
    color: var(--fg-text-inverse);
}

/* Focus state */
.account-card:focus {
    outline: var(--borderwidth-width-2) solid var(--primary-border);
    outline-offset: 2px;
}

/* ======================
   NAVBAR COMPONENT
   Based on Figma design: node-id=43-13904
====================== */

.navbar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    display: flex;
    align-items: center;
    background-color: var(--bg-bg); /* slate-100 */
    border-top: var(--borderwidth-width-1) solid var(--neutral-400);
    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.3);
    z-index: 1000;
  }

  /* Each nav item gets equal width */
  .navbar .nav-item {
    flex: 1 0 0;
    min-width: 0;
  }

  /* ======================
     MORE MENU (Bottom Sheet)
  ====================== */

  /* Overlay */
  .more-menu-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.5);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    z-index: 999;
  }

  .more-menu-overlay.is-visible {
    opacity: 1;
    visibility: visible;
  }

  /* Bottom Sheet */
  .more-menu {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: var(--bg-bg);
    border-radius: var(--borderradius-rounded-xl-rem) var(--borderradius-rounded-xl-rem) 0 0;
    box-shadow: 0px -4px 16px rgba(0, 0, 0, 0.1);
    transform: translateY(100%);
    transition: transform 0.3s ease;
    z-index: 1000;
    max-height: 50vh;
    display: flex;
    flex-direction: column;
  }

  .more-menu.is-open {
    transform: translateY(0);
  }

  /* Handle (drag indicator) */
  .more-menu__handle {
    width: 32px;
    height: 4px;
    background-color: var(--neutral-300);
    border-radius: 2px;
    margin: var(--spacing-3-rem) auto var(--spacing-2-rem);
  }

  /* Header */
  .more-menu__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 var(--spacing-6-rem) var(--spacing-4-rem);
    border-bottom: var(--borderwidth-width-1) solid var(--neutral-200);
  }

  .more-menu__title {
    font-family: var(--font-family-base);
    font-size: var(--text-xl-semi-bold-size-rem);
    font-weight: var(--text-xl-semi-bold-weight);
    line-height: 1;
    color: var(--fg-text);
    margin: 0;
  }

  .more-menu__close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: transparent;
    border: none;
    border-radius: var(--borderradius-rounded-md-rem);
    cursor: pointer;
    color: var(--fg-text);
    transition: background-color 0.2s ease;
  }

  .more-menu__close:hover {
    background-color: var(--bg-bg-hover);
  }

  .more-menu__close i {
    width: 24px;
    height: 24px;
  }

  /* Content */
  .more-menu__content {
    padding: var(--spacing-4-rem) var(--spacing-6-rem);
    overflow-y: auto;
    flex: 1;
  }

  /* Menu Items */
  .more-menu__item {
    display: flex;
    align-items: center;
    gap: var(--spacing-4-rem);
    width: 100%;
    padding: var(--spacing-4-rem);
    background: transparent;
    border: none;
    border-radius: var(--borderradius-rounded-md-rem);
    cursor: pointer;
    transition: background-color 0.2s ease;
    text-align: left;
  }

  .more-menu__item:hover {
    background-color: var(--bg-bg-hover);
  }

  .more-menu__item:active {
    background-color: var(--bg-bg-active);
  }

  .more-menu__item + .more-menu__item {
    margin-top: var(--spacing-2-rem);
  }

  .more-menu__item-icon {
    width: 24px;
    height: 24px;
    color: var(--fg-text);
    stroke: currentColor;
    stroke-width: 2;
    fill: none;
    flex-shrink: 0;
  }

  .more-menu__item-text {
    font-family: var(--text-base-medium-family);
    font-size: var(--text-base-medium-size-rem);
    font-weight: var(--text-base-medium-weight);
    line-height: 1.5;
    color: var(--fg-text);
  }
  
  /* ======================
     NAV ITEM COMPONENT
     Based on Figma design: node-id=43-13875
  ====================== */

  .nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-2-rem); /* 8px gap between icon and text */
    background: transparent;
    border: none;
    cursor: pointer;
    padding: var(--spacing-3-rem) var(--spacing-6-rem) var(--spacing-4-rem); /* 12px top, 24px horizontal, 16px bottom */
    transition: background-color 0.2s ease, color 0.2s ease;
  }

  /* icon from Lucide - will be replaced with SVG */
  .nav-item__icon {
    width: 24px;
    height: 24px;
    display: block;
    color: var(--fg-text); /* neutral-700 */
    stroke: currentColor;
    stroke-width: 2;
    fill: none;
    transition: color 0.2s ease;
  }

  /* text label */
  .nav-item__text {
    font-family: var(--text-xs-medium-family);
    font-size: var(--text-xs-medium-size-rem); /* 12px */
    font-weight: var(--text-xs-medium-weight); /* 500 */
    line-height: 1;
    color: var(--fg-text); /* neutral-700 */
    text-align: center;
    white-space: nowrap;
    transition: font-weight 0.2s ease, color 0.2s ease;
  }

  /* --------------------------
     HOVER state
  -------------------------- */
  .nav-item:hover,
  .nav-item.is-hover {
    background-color: var(--primary-bg);
  }

  .nav-item:hover .nav-item__icon,
  .nav-item.is-hover .nav-item__icon {
    color: var(--fg-text);
  }

  .nav-item:hover .nav-item__text,
  .nav-item.is-hover .nav-item__text {
    font-family: var(--text-xs-semi-bold-family);
    font-size: var(--text-xs-semi-bold-size-rem); /* 12px */
    font-weight: var(--text-xs-semi-bold-weight); /* 600 */
    color: var(--fg-text);
  }

  /* --------------------------
     FOCUS state
  -------------------------- */
  .nav-item:focus,
  .nav-item.is-focus {
    outline: none;
    background-color: var(--primary-bg-hover);
  }

  .nav-item:focus .nav-item__icon,
  .nav-item.is-focus .nav-item__icon {
    color: var(--primary-border-strong);
  }

  .nav-item:focus .nav-item__text,
  .nav-item.is-focus .nav-item__text {
    font-family: var(--text-xs-semi-bold-family);
    font-size: var(--text-xs-semi-bold-size-rem); /* 12px */
    font-weight: var(--text-xs-semi-bold-weight); /* 600 */
    color: var(--primary-border-strong);
  }

  /* --------------------------
     ACTIVE state
  -------------------------- */
  .nav-item.is-active,
  .nav-item[aria-current="page"] {
    background-color: var(--primary-solid);
  }

  .nav-item.is-active .nav-item__icon,
  .nav-item[aria-current="page"] .nav-item__icon {
    color: var(--primary-on-primary);
  }

  .nav-item.is-active .nav-item__text,
  .nav-item[aria-current="page"] .nav-item__text {
    font-family: var(--text-xs-semi-bold-family);
    font-size: var(--text-xs-semi-bold-size-rem); /* 12px */
    font-weight: var(--text-xs-semi-bold-weight); /* 600 */
    color: var(--primary-on-primary);
  }